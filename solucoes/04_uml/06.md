## Pergunta

6 - Cria um projeto no Visual Studio que respeite o seguinte diagrama UML. O
projeto deve ter funcionalidade mínima para demonstrar as relações indicadas no
diagrama.

![uml06](../../img/uml06.png)

## Soluções

### Solução 1

**Player**

```cs
public class Player
{
    public int ID { get; }
    public string Name { get; }
    private double health, shield;

    public Player(int id, string name, double health, double shield)
    {
        ID = id;
        Name = name;
        this.health = health;
        this.shield = shield;
    }

    public void PrintPlayerName()
    {
        Console.WriteLine($"{Name}.");
    }
}
```

**Map**

```cs
public abstract class Map
{
    public string Name { get; }
    protected string Filename { get; }

    private List<Player> playerList;

    public Map(string name, string filename)
    {
        Name = name;
        Filename = filename;
        playerList = new List<Player>();
    }

    public void AddPlayer(Player player)
    {
        playerList.Add(player);
    }

    public void PrintPlayerNames()
    {
        foreach(Player p in playerList)
        {
            p.PrintPlayerName();
        }
    }
}
```

**DungeonMap**

```cs
public class DungeonMap : Map
{
    public int NumberOfDungeons { get; }

    public DungeonMap(string name, string filename, int numberOfDungeons)
        : base(name, filename)
    {
        NumberOfDungeons = numberOfDungeons;
    }
}
```

**OpenWorldMap**

```cs
public class OpenWorldMap : Map
{
    public float Width { get; }
    public float Height { get; }

    public OpenWorldMap(string name, string filename, int w, int h)
        : base(name, filename)
    {
        Width = w;
        Height = h;
    }
}
```

**Game**

```cs
public class Game
{
    internal static int gamesPlayed;
    private int numberOfPlayers;

    private Map map;

    internal void GameLoop()
    {
        // Loop boolean.
        bool run = true;
        // Variables to use for user input.
        string inputStringName, inputStringFilename;
        int inputInt, inputIntDungeons, inputIntWidth, inputIntHeight;
        double inputDoubleHealth, inputDoubleShield;

        Console.WriteLine("Welcome to a simple Map creator game!\n");

        // Engage a loop to keep the program always running.
        while (run)
        {
            Console.WriteLine("\tStarting new Map creation process...\n");
            Console.WriteLine("What type of Map do you want?\n('1' for " +
                "Dungeon | '2' for Open World)\n");
            Console.WriteLine("If you simply wish to stop, use '3'.");

            // Read user's input.
            inputInt = int.Parse(Console.ReadLine());

            // Outcome based on user input...

            // Exit.
            if (inputInt == 3) break;

            if (inputInt == 1)
            Console.WriteLine("Creating a Dungeon map...\n");
            else if (inputInt == 2)
            Console.WriteLine("Creating a Open World Map...\n");

            Console.WriteLine("What would you like to call it?\n");
                inputStringName = Console.ReadLine();
                inputStringFilename = inputStringName.ToLower();

            if (inputInt == 1)
            {
                Console.WriteLine("How many dungeons would you like?");
                inputIntDungeons = int.Parse(Console.ReadLine());

                // After all values inserted, instantiate a DungeonMap.
                map = new DungeonMap
                (
                    inputStringName, inputStringFilename, inputIntDungeons
                );
            }
            else if (inputInt == 2)
            {
                Console.WriteLine("Height?");
                inputIntHeight = int.Parse(Console.ReadLine());
                Console.WriteLine("Width?");
                inputIntWidth = int.Parse(Console.ReadLine());

                map = new OpenWorldMap
                (
                    inputStringName, inputStringFilename, inputIntWidth,
                    inputIntHeight
                );
            }

            Console.WriteLine($"Success! Your map's called {map.Name}.\n");
            Console.WriteLine("Time to add some players!\n");
            Console.WriteLine("How many players do you want to add?\n");
            numberOfPlayers = int.Parse(Console.ReadLine());
            Console.WriteLine($"Creating {numberOfPlayers} player(s)...");

            // Add a player to the list based on amount of players decided.
            for (int i = 0; i < numberOfPlayers; i++)
            {
                int playerID = i;
                Console.WriteLine("Name?\n");
                inputStringName = Console.ReadLine();
                Console.WriteLine("Health amount?\n");
                inputDoubleHealth = double.Parse(Console.ReadLine());
                Console.WriteLine("Shield amount?\n");
                inputDoubleShield = double.Parse(Console.ReadLine());

                Player newPlayer = new Player
                (
                    playerID, inputStringName,
                    inputDoubleHealth, inputDoubleShield
                );

                map.AddPlayer(newPlayer);
            }

            Console.WriteLine($"Success! {inputInt} player(s) created.\n");
            Console.WriteLine("With everything done and dusted...\n");
            Console.WriteLine("\t- - -\n");
            Console.WriteLine($"Your map is called {map.Name}...\n");
            Console.WriteLine($"It has {numberOfPlayers} player(s)...");
            Console.WriteLine($"And their names are...");
            map.PrintPlayerNames();

            // Count up the amount of games played (times looped).
            gamesPlayed++;

            Console.WriteLine("\n");
        }
    }
}
```

**Program**

```cs
internal class Program
{
    static void Main(string[] args)
    {
        Game game = new Game();
        game.GameLoop();

        Console.WriteLine($"\nYou played {Game.gamesPlayed} game(s)!");
    }
}
```

*Por [Inácio Amerio](https://github.com/FPTheFluffyPawed)*